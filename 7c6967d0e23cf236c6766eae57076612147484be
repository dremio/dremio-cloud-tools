{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "58eea2e7_ed253a56",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 23
      },
      "lineNbr": 0,
      "author": {
        "id": 1000118
      },
      "writtenOn": "2024-01-23T19:37:20Z",
      "side": 1,
      "message": "I would personally prefer if the service account didn\u0027t become required if not using the backup strategy provided here.",
      "revId": "7c6967d0e23cf236c6766eae57076612147484be",
      "serverId": "8ca9cf2d-83f4-421d-8552-b009c9e056de"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d31f46d8_ce2f17cf",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 23
      },
      "lineNbr": 0,
      "author": {
        "id": 1000118
      },
      "writtenOn": "2024-01-30T17:51:00Z",
      "side": 1,
      "message": "What testing was done when the master coordinator is under load and we try to invoke a backup? In the DX, there was discussion from Carsten on potential issues with coordinator crashes due to additional load added by this backup.",
      "revId": "7c6967d0e23cf236c6766eae57076612147484be",
      "serverId": "8ca9cf2d-83f4-421d-8552-b009c9e056de"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e9a10635_f4788c79",
        "filename": "charts/dremio_v2/templates/dremio-coordinator.yaml",
        "patchSetId": 23
      },
      "lineNbr": 27,
      "author": {
        "id": 1000118
      },
      "writtenOn": "2024-01-23T19:37:20Z",
      "side": 1,
      "message": "Why did this become mandatory?",
      "revId": "7c6967d0e23cf236c6766eae57076612147484be",
      "serverId": "8ca9cf2d-83f4-421d-8552-b009c9e056de"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "371db185_eef7b381",
        "filename": "charts/dremio_v2/templates/dremio-coordinator.yaml",
        "patchSetId": 23
      },
      "lineNbr": 27,
      "author": {
        "id": 1000667
      },
      "writtenOn": "2024-01-26T16:06:59Z",
      "side": 1,
      "message": "We need a kube service account for customers in GCP using Workload Identity\n\nhttps://gerrit.drem.io/gerrit/c/dremio-cloud-tools/+/58264/23/charts/dremio_v2/docs/setup/Workload-Identity.md#58\n\nPS has recommended this to customers as the preferred auth method:\nhttps://dremio.atlassian.net/wiki/spaces/PS/pages/1755775093/Kubernetes+CronJob+for+Backups",
      "parentUuid": "e9a10635_f4788c79",
      "revId": "7c6967d0e23cf236c6766eae57076612147484be",
      "serverId": "8ca9cf2d-83f4-421d-8552-b009c9e056de"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "688350b2_ca908f9b",
        "filename": "charts/dremio_v2/templates/dremio-coordinator.yaml",
        "patchSetId": 23
      },
      "lineNbr": 27,
      "author": {
        "id": 1000667
      },
      "writtenOn": "2024-01-26T16:44:50Z",
      "side": 1,
      "message": "A kube service account is also required to run dremio-admin backup. When the cronjob is triggered, a pod will spawn and \u0027exec\u0027 into dremio-master pod to run the back up. The cron job pod will need enough permission to \u0027exec\u0027 into the master pod: https://gerrit.drem.io/gerrit/c/dremio-cloud-tools/+/58264/23/charts/dremio_v2/templates/dremio-coordinator-sa-role.yaml",
      "parentUuid": "371db185_eef7b381",
      "revId": "7c6967d0e23cf236c6766eae57076612147484be",
      "serverId": "8ca9cf2d-83f4-421d-8552-b009c9e056de"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9a298eed_bb772a8e",
        "filename": "charts/dremio_v2/templates/dremio-coordinator.yaml",
        "patchSetId": 23
      },
      "lineNbr": 27,
      "author": {
        "id": 1000118
      },
      "writtenOn": "2024-01-26T16:54:15Z",
      "side": 1,
      "message": "What field did in order to unblock a customer requirement is very different than what we build directly into our chart and present as a production-ready/engineering-built solution. Engineering needs to hold itself to a higher standard/bar than what field has delivered since engineering has the power to build this functionality into the product.\n\nAs you further point out, the binding is asking to be able to exec into neighboring pods. That\u0027s a heightened security risk as the same SA is bound to the coordinator pod, meaning a compromise of the coordinator allows for potential lateral movement by executing arbitrary additional pods.",
      "parentUuid": "688350b2_ca908f9b",
      "revId": "7c6967d0e23cf236c6766eae57076612147484be",
      "serverId": "8ca9cf2d-83f4-421d-8552-b009c9e056de"
    }
  ]
}